# Copyright 2025 Canonical Ltd.
# See LICENSE file for licensing details.

name: netbox-k8s

type: charm

base: ubuntu@24.04

platforms:
  amd64:


summary: NetBox is a solution for modeling and documenting network infrastructure.
description: |
  NetBox is the go-to solution for modeling and documenting network
  infrastructure for thousands of organizations worldwide. As a successor
  to legacy IPAM and DCIM applications, NetBox provides a cohesive,
  extensive, and accessible data model for all things networked.

links:
  issues: https://github.com/canonical/netbox-k8s-operator/issues
  source: https://github.com/canonical/netbox-k8s-operator
  website:
  - https://github.com/canonical/netbox-k8s-operator
  documentation: https://discourse.charmhub.io/t/netbox-k8s-documentation-overview/18953

extensions:
  - django-framework

charm-libs:
- lib: hydra.oauth
  version: '0'

requires:
  postgresql:
    interface: postgresql_client
    limit: 1
  s3:
    interface: s3
    limit: 1
  redis:
    interface: redis
    limit: 1
  saml:
    interface: saml
    limit: 1
    optional: true
  oidc:
    interface: oauth
    optional: True
    limit: 1

config:
  options:
    oidc-redirect-path:
      type: string
      description: The path that the user will be redirected upon completing login.
      default: /oauth/complete/oidc/
    oidc-scopes:
      type: string
      description: List of scopes separated by spaces.
      default: "openid profile email"

parts:
  icon:
    plugin: dump
    source: .
    stage:
      - icon.svg
